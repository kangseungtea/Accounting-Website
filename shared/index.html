<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>๋ก๊ทธ์ธ</title>
    <link rel="stylesheet" href="/style.css?v=20250111">
</head>
<body>
    <!-- ๋ค๋น๊ฒ์ด์ ๋ฐ -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#" class="nav-brand" onclick="showHome()">๊น๋ฅ์ปดํจํฐ</a>
            <ul class="nav-menu" id="navMenu" style="display: none;">
                <li><a href="#" onclick="showHome()">ํ</a></li>
                <li><a href="#" onclick="showCustomers()">๊ณ๊ฐ</a></li>
                <li><a href="#" onclick="showProducts()">์ํ</a></li>
                <li><a href="#" onclick="showLedger()">์ฅ๋ถ</a></li>
                <li><a href="#" onclick="showAccounting()">ํ๊ณ</a></li>
                <li><a href="#" onclick="showSettings()">์ค์</a></li>
            </ul>
            <div class="user-info" id="userInfo" style="display: none;">
                <span id="userName">์ฌ์ฉ์</span>
                <button onclick="logout()" class="btn btn-outline">๋ก๊ทธ์์</button>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="login-form" style="display: none;">
            <h2>๋ก๊ทธ์ธ</h2>
            <form id="loginForm">
                <div class="form-group">
                    <input type="text" id="username" placeholder="์์ด๋" required>
                </div>
                <div class="form-group">
                    <input type="password" id="password" placeholder="๋น๋ฐ๋ฒํธ" required>
                </div>
                <button type="submit">๋ก๊ทธ์ธ</button>
            </form>
            <p>๊ณ์์ด ์์ผ์๊ฐ์? <a href="#" id="showRegister">ํ์๊ฐ์</a></p>
        </div>

        <div class="register-form" style="display: none;">
            <h2>ํ์๊ฐ์</h2>
            <form id="registerForm">
                <div class="form-group">
                    <input type="text" id="regName" placeholder="์ด๋ฆ" required>
                </div>
                <div class="form-group">
                    <input type="text" id="regUsername" placeholder="์์ด๋" required>
                </div>
                <div class="form-group">
                    <input type="password" id="regPassword" placeholder="๋น๋ฐ๋ฒํธ" required>
                </div>
                <div class="form-group">
                    <input type="tel" id="regPhone" placeholder="์ํ๋ฒํธ" required>
                </div>
                <button type="submit">๊ฐ์ํ๊ธฐ</button>
            </form>
            <p>์ด๋ฏธ ๊ณ์์ด ์์ผ์๊ฐ์? <a href="#" id="showLogin">๋ก๊ทธ์ธ</a></p>
        </div>
        
        <!-- ํ ํ๋ฉด -->
        <div class="home-screen" id="homeScreen">
            <h1>๊น๋ฅ์ปดํจํฐ์ ์ค์ ๊ฒ์ ํ์ํฉ๋๋ค</h1>
            <p>๋ก๊ทธ์ธํ์ฌ ์๋น์ค๋ฅผ ์ด์ฉํด๋ณด์ธ์</p>
            <button onclick="showLoginForm()" class="btn btn-primary">๋ก๊ทธ์ธํ๊ธฐ</button>
        </div>

        <!-- ๋์๋ณด๋ ํ๋ฉด -->
        <div class="dashboard" id="dashboard" style="display: none;">
            <h1>๋์๋ณด๋</h1>
            
            <!-- ๋งค์ถ/๋งค์ ๋ถ์ ์น์ -->
            <div class="analysis-section">
                <div class="analysis-header">
                    <h2>๐ ๋งค์ถ/๋งค์ ๋ถ์</h2>
                    <div class="analysis-controls">
                        <select id="analysisPeriod" onchange="updateAnalysis()">
                            <option value="daily">์ผ๋ณ</option>
                            <option value="monthly" selected>์๋ณ</option>
                            <option value="yearly">์ฐ๋๋ณ</option>
                        </select>
                        <button class="btn btn-primary" onclick="refreshAnalysis()">๐ ์๋ก๊ณ์นจ</button>
                    </div>
                </div>
                
                <!-- ์์ฝ ์นด๋๋ค -->
                <div class="summary-cards">
                    <div class="summary-card revenue">
                        <div class="card-icon">๐ฐ</div>
                        <div class="card-content">
                            <div class="card-title">์ด ๋งค์ถ</div>
                            <div class="card-value" id="totalRevenue">0์</div>
                            <div class="card-subtitle" id="revenueCount">0๊ฑด</div>
                        </div>
                    </div>
                    
                    <div class="summary-card expense">
                        <div class="card-icon">๐ธ</div>
                        <div class="card-content">
                            <div class="card-title">์ด ๋งค์</div>
                            <div class="card-value" id="totalExpense">0์</div>
                            <div class="card-subtitle" id="expenseCount">0๊ฑด</div>
                        </div>
                    </div>
                    
                    <div class="summary-card net">
                        <div class="card-icon">๐</div>
                        <div class="card-content">
                            <div class="card-title">์์ด์ต</div>
                            <div class="card-value" id="netProfit">0์</div>
                            <div class="card-subtitle" id="profitMargin">0%</div>
                        </div>
                    </div>
                    
                    <div class="summary-card vat">
                        <div class="card-icon">๐งพ</div>
                        <div class="card-content">
                            <div class="card-title">๋ถ๊ฐ์ธ</div>
                            <div class="card-value" id="totalVat">0์</div>
                            <div class="card-subtitle" id="vatBreakdown">๋งค์ถ/๋งค์</div>
                        </div>
                    </div>
                </div>
                
                <!-- ์์ธ ๋ถ์ ํ์ด๋ธ -->
                <div class="analysis-table-container">
                    <h3>์์ธ ๋ถ์</h3>
                    <div class="table-wrapper">
                        <table class="analysis-table" id="analysisTable">
                            <thead>
                                <tr>
                                    <th>๊ธฐ๊ฐ</th>
                                    <th class="number">๋งค์ถ ๊ณต๊ธ๊ฐ์ก</th>
                                    <th class="number">๋งค์ถ ๋ถ๊ฐ์ธ</th>
                                    <th class="number">๋งค์ถ ์ด์ก</th>
                                    <th class="number">๋งค์ ๊ณต๊ธ๊ฐ์ก</th>
                                    <th class="number">๋งค์ ๋ถ๊ฐ์ธ</th>
                                    <th class="number">๋งค์ ์ด์ก</th>
                                    <th class="number">์์ด์ต</th>
                                </tr>
                            </thead>
                            <tbody id="analysisTableBody">
                                <tr>
                                    <td colspan="8" class="loading">๋ฐ์ดํฐ๋ฅผ ๋ถ์ํ๋ ์ค...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <script src="/products/category-manager.js"></script>
    <script src="/script.js"></script>
</body>
</html>
