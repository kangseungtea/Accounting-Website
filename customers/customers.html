<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³ ê° ê´€ë¦¬ - ê¹œëƒ¥ì»´í“¨í„°</title>
    <link rel="stylesheet" href="/style.css?v=20250111">
</head>
<body>
    <!-- ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="../shared/index.html" class="nav-brand">ê¹œëƒ¥ì»´í“¨í„°</a>
            <ul class="nav-menu">
                <li><a href="../shared/index.html">í™ˆ</a></li>
                <li><a href="customers.html" class="active">ê³ ê°</a></li>
                <li><a href="../products/products.html">ì œí’ˆ</a></li>
                <li><a href="#" onclick="alert('ì¥ë¶€ ê´€ë¦¬ í˜ì´ì§€ (ê°œë°œ ì˜ˆì •)')">ì¥ë¶€</a></li>
                <li><a href="#" onclick="alert('íšŒê³„ ê´€ë¦¬ í˜ì´ì§€ (ê°œë°œ ì˜ˆì •)')">íšŒê³„</a></li>
                <li><a href="#" onclick="alert('ì„¤ì • í˜ì´ì§€ (ê°œë°œ ì˜ˆì •)')">ì„¤ì •</a></li>
            </ul>
            <div class="user-info">
                <span id="userName">ì‚¬ìš©ì</span>
                <button onclick="logout()" class="btn btn-outline">ë¡œê·¸ì•„ì›ƒ</button>
            </div>
        </div>
    </nav>

    <!-- ê³ ê° ê´€ë¦¬ í™”ë©´ -->
    <div class="customers-page">
        <div class="page-header">
            <h1>ê³ ê° ê´€ë¦¬</h1>
            <div class="header-actions">
                <button class="btn btn-outline" onclick="window.open('customer-search.html', '_blank')">ğŸ” ê³ ê¸‰ ê²€ìƒ‰</button>
                <button class="btn btn-outline" onclick="window.open('customer-stats.html', '_blank')">ğŸ“Š ê³ ê° í†µê³„</button>
                <button class="btn btn-outline" onclick="window.open('customer-notifications.html', '_blank')">ğŸ”” ê³ ê° ì•Œë¦¼</button>
                <button class="btn btn-primary" onclick="showAddCustomerModal()">+ ìƒˆ ê³ ê° ë“±ë¡</button>
            </div>
        </div>
        
        <div class="search-filter">
            <input type="text" id="customerSearch" placeholder="ê³ ê°ëª…, íšŒì‚¬ëª…, ì „í™”ë²ˆí˜¸, ì´ë©”ì¼ë¡œ ê²€ìƒ‰..." onkeyup="searchCustomers()">
            <select id="statusFilter" onchange="filterCustomers()">
                <option value="">ì „ì²´ ìƒíƒœ</option>
                <option value="í™œì„±">í™œì„±</option>
                <option value="ë¹„í™œì„±">ë¹„í™œì„±</option>
            </select>
        </div>
        
        <div class="customers-table-container">
            <table class="customers-table">
                <thead>
                    <tr>
                        <th>ì´ë¦„</th>
                        <th>íšŒì‚¬ëª…</th>
                        <th>ì „í™”ë²ˆí˜¸</th>
                        <th>ì£¼ì†Œ</th>
                        <th>ê´€ë¦¬ë²ˆí˜¸</th>
                        <th>ì´ êµ¬ë§¤ê¸ˆì•¡</th>
                        <th>ì´ ìˆ˜ë¦¬ë¹„ìš©</th>
                        <th>ìƒíƒœ</th>
                        <th>ì•¡ì…˜</th>
                    </tr>
                </thead>
                <tbody id="customersTableBody">
                    <!-- ê³ ê° ë°ì´í„°ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </tbody>
            </table>
        </div>
        
        <div class="pagination" id="pagination">
            <!-- í˜ì´ì§€ë„¤ì´ì…˜ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
        </div>
    </div>

    <!-- ê³ ê° ë“±ë¡/ìˆ˜ì • ëª¨ë‹¬ -->
    <div class="modal" id="customerModal" style="display: none;">
        <div class="modal-content" style="max-height: 90vh; display: flex; flex-direction: column;">
            <div class="modal-header" style="flex-shrink: 0;">
                <h2 id="modalTitle">ê³ ê° ë“±ë¡</h2>
                <button class="close-btn" onclick="closeCustomerModal()">&times;</button>
            </div>
            <div class="modal-body" style="flex: 1; overflow-y: auto; padding: 20px; max-height: calc(90vh - 120px); scrollbar-width: thin; scrollbar-color: #ced4da #f8f9fa;">
                <form id="customerForm">
                    <div class="form-group">
                        <label for="customerName">ì´ë¦„ *</label>
                        <input type="text" id="customerName" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="customerCompany">íšŒì‚¬ëª…</label>
                        <input type="text" id="customerCompany" name="company">
                    </div>
                    <div class="form-group">
                        <label for="customerBusinessNumber">ì‚¬ì—…ìë²ˆí˜¸</label>
                        <input type="text" id="customerBusinessNumber" name="businessNumber" placeholder="000-00-00000">
                    </div>
                    <div class="form-group">
                        <label for="customerPhone">ì „í™”ë²ˆí˜¸ *</label>
                        <input type="tel" id="customerPhone" name="phone" required placeholder="010-1234-5678">
                    </div>
                    <div class="form-group">
                        <label for="customerEmail">ì´ë©”ì¼</label>
                        <input type="email" id="customerEmail" name="email">
                    </div>
                    <div class="form-group">
                        <label for="customerAddress">ì£¼ì†Œ</label>
                        <input type="text" id="customerAddress" name="address">
                    </div>
                    <div class="form-group">
                        <label for="customerManagementNumber">ê´€ë¦¬ë²ˆí˜¸</label>
                        <input type="text" id="customerManagementNumber" name="managementNumber">
                    </div>
                    <div class="form-group">
                        <label for="customerStatus">ìƒíƒœ</label>
                        <select id="customerStatus" name="status">
                            <option value="í™œì„±">í™œì„±</option>
                            <option value="ë¹„í™œì„±">ë¹„í™œì„±</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="customerNotes">ë©”ëª¨</label>
                        <textarea id="customerNotes" name="notes" rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="flex-shrink: 0; padding: 20px; border-top: 1px solid #e9ecef; background: #f8f9fa;">
                <div class="form-actions" style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button type="button" class="btn btn-outline" onclick="closeCustomerModal()">ì·¨ì†Œ</button>
                    <button type="submit" form="customerForm" class="btn btn-primary">ì €ì¥</button>
                </div>
            </div>
        </div>
    </div>

    <style>
        /* ê³ ê° ë“±ë¡ ëª¨ë‹¬ ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ */
        .modal-body::-webkit-scrollbar {
            width: 8px;
        }
        
        .modal-body::-webkit-scrollbar-track {
            background: #f8f9fa;
            border-radius: 4px;
        }
        
        .modal-body::-webkit-scrollbar-thumb {
            background: #ced4da;
            border-radius: 4px;
        }
        
        .modal-body::-webkit-scrollbar-thumb:hover {
            background: #adb5bd;
        }
        
        /* ìŠ¤í¬ë¡¤ë°”ê°€ ë‚˜íƒ€ë‚  ë•Œë§Œ í‘œì‹œ */
        .modal-body {
            scrollbar-gutter: stable;
        }
    </style>

    <script src="/products/category-manager.js"></script>
    <script src="customers.js"></script>
</body>
</html>
